(()=>{var e={};e.id=116,e.ids=[116],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},79428:e=>{"use strict";e.exports=require("buffer")},55511:e=>{"use strict";e.exports=require("crypto")},94735:e=>{"use strict";e.exports=require("events")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},91645:e=>{"use strict";e.exports=require("net")},33873:e=>{"use strict";e.exports=require("path")},11997:e=>{"use strict";e.exports=require("punycode")},27910:e=>{"use strict";e.exports=require("stream")},34631:e=>{"use strict";e.exports=require("tls")},79551:e=>{"use strict";e.exports=require("url")},74075:e=>{"use strict";e.exports=require("zlib")},73667:(e,r,s)=>{"use strict";s.r(r),s.d(r,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var t=s(70260),n=s(28203),a=s(25155),i=s.n(a),o=s(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(r,l);let c=["",{children:["admin",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,77211)),"/home/richard/CascadeProjects/personal-website/src/app/admin/login/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,96038)),"/home/richard/CascadeProjects/personal-website/src/app/admin/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,71354)),"/home/richard/CascadeProjects/personal-website/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,21154)),"/home/richard/CascadeProjects/personal-website/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,50042)),"/home/richard/CascadeProjects/personal-website/src/app/not-found.tsx"],forbidden:[()=>Promise.resolve().then(s.t.bind(s,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(s.t.bind(s,41485,23)),"next/dist/client/components/unauthorized-error"]}],d=["/home/richard/CascadeProjects/personal-website/src/app/admin/login/page.tsx"],u={require:s,loadChunk:()=>Promise.resolve()},p=new t.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/admin/login/page",pathname:"/admin/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},91117:(e,r,s)=>{Promise.resolve().then(s.bind(s,96038))},72557:(e,r,s)=>{Promise.resolve().then(s.bind(s,6263))},24078:(e,r,s)=>{Promise.resolve().then(s.bind(s,77211))},87126:(e,r,s)=>{Promise.resolve().then(s.bind(s,31415))},6263:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var t=s(45512),n=s(58009),a=s(79334),i=s(73746),o=s(28531),l=s.n(o);function c({children:e}){(0,a.useRouter)();let r=(0,a.usePathname)(),{user:s,loading:o}=function(){let[e,r]=(0,n.useState)(null),[s,t]=(0,n.useState)(!0),a=(0,i.k)();return{user:e,loading:s,signOut:async()=>{try{await a.auth.signOut(),r(null)}catch(e){console.error("Error signing out:",e)}},supabase:a}}(),[c,d]=(0,n.useState)(!1);return c?"/admin/login"===r?e:o?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):s?(0,t.jsxs)("div",{className:"flex min-h-screen",children:[(0,t.jsx)("div",{className:"w-64 bg-background border-r",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold",children:"Admin Panel"}),(0,t.jsx)("div",{className:"mt-2 text-sm text-muted-foreground",children:s.email}),(0,t.jsxs)("nav",{className:"mt-8 space-y-2",children:[(0,t.jsx)(l(),{href:"/admin",className:`block p-2 hover:bg-accent rounded transition-colors ${"/admin"===r?"bg-accent":""}`,children:"Dashboard"}),(0,t.jsx)(l(),{href:"/admin/portfolio",className:`block p-2 hover:bg-accent rounded transition-colors ${"/admin/portfolio"===r?"bg-accent":""}`,children:"Portfolio Items"}),(0,t.jsx)(l(),{href:"/admin/certifications",className:`block p-2 hover:bg-accent rounded transition-colors ${"/admin/certifications"===r?"bg-accent":""}`,children:"Certifications"}),(0,t.jsx)(l(),{href:"/admin/messages",className:`block p-2 hover:bg-accent rounded transition-colors ${"/admin/messages"===r?"bg-accent":""}`,children:"Messages"}),(0,t.jsx)(l(),{href:"/admin/services",className:`block p-2 hover:bg-accent rounded transition-colors ${"/admin/services"===r?"bg-accent":""}`,children:"Services"}),(0,t.jsx)(l(),{href:"/admin/comments",className:`block p-2 hover:bg-accent rounded transition-colors ${"/admin/comments"===r?"bg-accent":""}`,children:"Comments"}),(0,t.jsx)(l(),{href:"/admin/blog",className:`block p-2 hover:bg-accent rounded transition-colors ${"/admin/blog"===r?"bg-accent":""}`,children:"Blog Posts"}),(0,t.jsx)(l(),{href:"/admin/settings",className:`block p-2 hover:bg-accent rounded transition-colors ${"/admin/settings"===r?"bg-accent":""}`,children:"Settings"})]})]})}),(0,t.jsx)("div",{className:"flex-1 p-8",children:e})]}):null:null}},31415:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>c});var t=s(45512),n=s(58009),a=s(79334),i=s(73746),o=s(39400),l=s(77722);function c(){let[e,r]=(0,n.useState)(""),[s,c]=(0,n.useState)(""),[d,u]=(0,n.useState)(!1),[p,m]=(0,n.useState)(null),h=(0,a.useRouter)(),b=(0,i.k)(),x=async r=>{r.preventDefault(),u(!0),m(null);try{let r=await fetch("/api/auth/check-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})}),t=await r.json();if(console.log("Email check response:",t),!r.ok){m(t.error||"Email not authorized"),u(!1);return}let{data:n,error:a}=await b.auth.signInWithPassword({email:e,password:s});if(a){m(a.message);return}n?.user&&(console.log("Login successful:",n.user),h.push("/admin"),h.refresh())}catch(e){console.error("Login error:",e),m("An unexpected error occurred")}finally{u(!1)}};return(0,t.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[p&&(0,t.jsx)("div",{className:"bg-destructive/10 text-destructive p-3 rounded-md text-sm",children:p}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),(0,t.jsx)(l.p,{id:"email",type:"email",value:e,onChange:e=>r(e.target.value),placeholder:"Enter your email",required:!0,className:"w-full",disabled:d})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"Password"}),(0,t.jsx)(l.p,{id:"password",type:"password",value:s,onChange:e=>c(e.target.value),placeholder:"Enter your password",required:!0,className:"w-full",disabled:d})]}),(0,t.jsx)(o.$,{type:"submit",className:"w-full",disabled:d,children:d?"Signing in...":"Sign In"})]})}},77722:(e,r,s)=>{"use strict";s.d(r,{p:()=>i});var t=s(45512),n=s(58009),a=s(44195);let i=n.forwardRef(({className:e,type:r,...s},n)=>(0,t.jsx)("input",{type:r,className:(0,a.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...s}));i.displayName="Input"},73746:(e,r,s)=>{"use strict";s.d(r,{k:()=>a});var t=s(26201);let n=null,a=()=>n||(n=(0,t.UU)("https://jjilijsqunjqmyrzlkhs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpqaWxpanNxdW5qcW15cnpsa2hzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQ0OTEzNjYsImV4cCI6MjA1MDA2NzM2Nn0.7Wbc_Ok819Kzb68hHXVS9BrZ7UIeKIzzdcpRp_pIXp8",{auth:{persistSession:!0,autoRefreshToken:!0,storageKey:"sb-auth-token",storage:void 0}}))},96038:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/richard/CascadeProjects/personal-website/src/app/admin/layout.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/richard/CascadeProjects/personal-website/src/app/admin/layout.tsx","default")},77211:(e,r,s)=>{"use strict";s.r(r),s.d(r,{default:()=>t});let t=(0,s(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/richard/CascadeProjects/personal-website/src/app/admin/login/page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/richard/CascadeProjects/personal-website/src/app/admin/login/page.tsx","default")}};var r=require("../../../webpack-runtime.js");r.C(e);var s=e=>r(r.s=e),t=r.X(0,[638,569,208],()=>s(73667));module.exports=t})();