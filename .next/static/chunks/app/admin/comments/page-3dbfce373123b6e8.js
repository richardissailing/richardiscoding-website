(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[409],{8573:(e,t,r)=>{Promise.resolve().then(r.bind(r,344))},344:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>c});var s=r(5155),n=r(2115),a=r(1086),i=r(9749),o=r(3312),d=r(488);function c(){let[e,t]=(0,n.useState)([]),[r,c]=(0,n.useState)(!0),l=(0,a.k)();async function m(){try{let{data:e,error:r}=await l.from("blog_comments").select("\n          id,\n          post_id,\n          author_name,\n          author_email,\n          content,\n          approved,\n          created_at,\n          blog_posts (\n            title\n          )\n        ").order("created_at",{ascending:!1}).returns();if(r)throw r;t(e||[])}catch(e){console.error("Error loading comments:",e)}finally{c(!1)}}async function u(e){try{let{error:t}=await l.from("blog_comments").update({approved:!e.approved}).eq("id",e.id).select().returns();if(t)throw t;await m()}catch(e){console.error("Error updating comment:",e)}}async function f(e){if(confirm("Are you sure you want to delete this comment?"))try{let{error:t}=await l.from("blog_comments").delete().eq("id",e);if(t)throw t;await m()}catch(e){console.error("Error deleting comment:",e)}}return((0,n.useEffect)(()=>{m()},[]),r)?(0,s.jsx)("div",{className:"flex justify-center items-center min-h-[400px]",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsx)("div",{className:"flex justify-between items-center",children:(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Manage Comments"})}),(0,s.jsxs)("div",{className:"space-y-4",children:[e.map(e=>{var t;return(0,s.jsxs)(i.Zp,{children:[(0,s.jsx)(i.aR,{children:(0,s.jsxs)(i.ZB,{className:"text-lg",children:["Comment on: ",(null===(t=e.blog_posts)||void 0===t?void 0:t.title)||"Unknown Post"]})}),(0,s.jsx)(i.Wu,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"font-medium",children:e.author_name}),(0,s.jsx)("div",{className:"text-sm text-muted-foreground",children:e.author_email})]}),(0,s.jsx)("p",{className:"text-muted-foreground",children:e.content}),(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(d.d,{checked:e.approved,onCheckedChange:()=>u(e)}),(0,s.jsx)("span",{children:"Approved"})]}),(0,s.jsx)(o.$,{variant:"destructive",size:"sm",onClick:()=>f(e.id),children:"Delete"})]})]})})]},e.id)}),0===e.length&&(0,s.jsx)("div",{className:"text-center text-muted-foreground",children:"No comments yet."})]})]})}},3312:(e,t,r)=>{"use strict";r.d(t,{$:()=>c});var s=r(5155),n=r(2115),a=r(2317),i=r(1027),o=r(1567);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),c=n.forwardRef((e,t)=>{let{className:r,variant:n,size:i,asChild:c=!1,...l}=e,m=c?a.DX:"button";return(0,s.jsx)(m,{className:(0,o.cn)(d({variant:n,size:i,className:r})),ref:t,...l})});c.displayName="Button"},9749:(e,t,r)=>{"use strict";r.d(t,{BT:()=>c,Wu:()=>l,ZB:()=>d,Zp:()=>i,aR:()=>o});var s=r(5155),n=r(2115),a=r(1567);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});i.displayName="Card";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});o.displayName="CardHeader";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("h3",{ref:t,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});d.displayName="CardTitle";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("p",{ref:t,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});c.displayName="CardDescription";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("p-6 pt-0",r),...n})});l.displayName="CardContent",n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})}).displayName="CardFooter"},488:(e,t,r)=>{"use strict";r.d(t,{d:()=>o});var s=r(5155),n=r(2115),a=r(2920),i=r(1567);let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.bL,{className:(0,i.cn)("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",r),...n,ref:t,children:(0,s.jsx)(a.zi,{className:(0,i.cn)("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})})});o.displayName=a.bL.displayName},1086:(e,t,r)=>{"use strict";r.d(t,{k:()=>a});var s=r(5974);let n=null,a=()=>n||(n=(0,s.UU)("https://jjilijsqunjqmyrzlkhs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpqaWxpanNxdW5qcW15cnpsa2hzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQ0OTEzNjYsImV4cCI6MjA1MDA2NzM2Nn0.7Wbc_Ok819Kzb68hHXVS9BrZ7UIeKIzzdcpRp_pIXp8",{auth:{persistSession:!0,autoRefreshToken:!0,storageKey:"sb-auth-token",storage:{getItem:e=>window.localStorage.getItem(e),setItem:(e,t)=>{window.localStorage.setItem(e,t)},removeItem:e=>{window.localStorage.removeItem(e)}}}}))},1567:(e,t,r)=>{"use strict";r.d(t,{cn:()=>a});var s=r(3463),n=r(9795);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.QP)((0,s.$)(t))}}},e=>{var t=t=>e(e.s=t);e.O(0,[736,181,184,441,517,358],()=>t(8573)),_N_E=e.O()}]);