(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[581],{363:(e,s,n)=>{Promise.resolve().then(n.bind(n,8480))},6046:(e,s,n)=>{"use strict";n.r(s);var c=n(6658),t={};for(let e in c)"default"!==e&&(t[e]=()=>c[e]);n.d(s,t)},8480:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>l});var c=n(5155),t=n(2115),a=n(6046),r=n(1086),o=n(8173),i=n.n(o);function l(e){let{children:s}=e,n=(0,a.useRouter)(),o=(0,a.usePathname)(),{user:l,loading:d}=function(){let[e,s]=(0,t.useState)(null),[n,c]=(0,t.useState)(!0),a=(0,r.k)();return(0,t.useEffect)(()=>{(async()=>{try{let{data:{session:e},error:n}=await a.auth.getSession();if(console.log("Current session:",e),n){console.error("Session error:",n);return}(null==e?void 0:e.user)&&s(e.user)}catch(e){console.error("Session check error:",e)}finally{c(!1)}})();let{data:{subscription:e}}=a.auth.onAuthStateChange((e,n)=>{console.log("Auth state changed:",e,n),(null==n?void 0:n.user)?s(n.user):s(null),c(!1)});return()=>{e.unsubscribe()}},[]),{user:e,loading:n,signOut:async()=>{try{await a.auth.signOut(),s(null)}catch(e){console.error("Error signing out:",e)}},supabase:a}}(),[m,u]=(0,t.useState)(!1);return((0,t.useEffect)(()=>{u(!0)},[]),(0,t.useEffect)(()=>{d||l||"/admin/login"===o||n.push("/admin/login")},[l,d,o,n]),m)?"/admin/login"===o?s:d?(0,c.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,c.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})}):l?(0,c.jsxs)("div",{className:"flex min-h-screen",children:[(0,c.jsx)("div",{className:"w-64 bg-background border-r",children:(0,c.jsxs)("div",{className:"p-4",children:[(0,c.jsx)("h2",{className:"text-lg font-semibold",children:"Admin Panel"}),(0,c.jsx)("div",{className:"mt-2 text-sm text-muted-foreground",children:l.email}),(0,c.jsxs)("nav",{className:"mt-8 space-y-2",children:[(0,c.jsx)(i(),{href:"/admin",className:"block p-2 hover:bg-accent rounded transition-colors ".concat("/admin"===o?"bg-accent":""),children:"Dashboard"}),(0,c.jsx)(i(),{href:"/admin/portfolio",className:"block p-2 hover:bg-accent rounded transition-colors ".concat("/admin/portfolio"===o?"bg-accent":""),children:"Portfolio Items"}),(0,c.jsx)(i(),{href:"/admin/certifications",className:"block p-2 hover:bg-accent rounded transition-colors ".concat("/admin/certifications"===o?"bg-accent":""),children:"Certifications"}),(0,c.jsx)(i(),{href:"/admin/messages",className:"block p-2 hover:bg-accent rounded transition-colors ".concat("/admin/messages"===o?"bg-accent":""),children:"Messages"}),(0,c.jsx)(i(),{href:"/admin/services",className:"block p-2 hover:bg-accent rounded transition-colors ".concat("/admin/services"===o?"bg-accent":""),children:"Services"}),(0,c.jsx)(i(),{href:"/admin/comments",className:"block p-2 hover:bg-accent rounded transition-colors ".concat("/admin/comments"===o?"bg-accent":""),children:"Comments"}),(0,c.jsx)(i(),{href:"/admin/blog",className:"block p-2 hover:bg-accent rounded transition-colors ".concat("/admin/blog"===o?"bg-accent":""),children:"Blog Posts"}),(0,c.jsx)(i(),{href:"/admin/settings",className:"block p-2 hover:bg-accent rounded transition-colors ".concat("/admin/settings"===o?"bg-accent":""),children:"Settings"})]})]})}),(0,c.jsx)("div",{className:"flex-1 p-8",children:s})]}):null:null}},1086:(e,s,n)=>{"use strict";n.d(s,{k:()=>a});var c=n(5974);let t=null,a=()=>t||(t=(0,c.UU)("https://jjilijsqunjqmyrzlkhs.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpqaWxpanNxdW5qcW15cnpsa2hzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzQ0OTEzNjYsImV4cCI6MjA1MDA2NzM2Nn0.7Wbc_Ok819Kzb68hHXVS9BrZ7UIeKIzzdcpRp_pIXp8",{auth:{persistSession:!0,autoRefreshToken:!0,storageKey:"sb-auth-token",storage:{getItem:e=>window.localStorage.getItem(e),setItem:(e,s)=>{window.localStorage.setItem(e,s)},removeItem:e=>{window.localStorage.removeItem(e)}}}}))}},e=>{var s=s=>e(e.s=s);e.O(0,[736,173,441,517,358],()=>s(363)),_N_E=e.O()}]);